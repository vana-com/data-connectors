{
  "name": "YouTube Watch History (Recent)",
  "version": "1.0.0",
  "scope": "youtube.history",
  "dialect": "json",
  "description": "Most recent watch history entries (top 50) collected from the YouTube History page.",
  "schema": {
    "type": "object",
    "properties": {
      "timeWindow": { "type": "string" },
      "history": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "watchedAtText": { "type": ["string", "null"], "description": "Section date header e.g. Today, Yesterday, Jan 23 2026" },
            "videoId":       { "type": ["string", "null"] },
            "videoUrl":      { "type": "string" },
            "videoTitle":    { "type": ["string", "null"] },
            "channelTitle":  { "type": ["string", "null"] },
            "views":         { "type": ["string", "null"], "description": "Raw view count text e.g. '97k views'" },
            "description":   { "type": ["string", "null"], "description": "Short video description snippet shown in history" }
          },
          "required": ["videoUrl"],
          "additionalProperties": false
        }
      }
    },
    "required": ["timeWindow", "history"],
    "additionalProperties": false
  }
}
